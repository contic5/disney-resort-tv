(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function e(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(t){if(t.ep)return;t.ep=!0;const n=e(t);fetch(t.href,n)}})();async function L(){return await(await fetch("sample_weather.json")).json()}async function b(i,a=0){return await(await fetch(N[a])).json()}function k(i){let a=document.getElementById("weather_table_head");a.innerHTML="";let e=document.createElement("tr"),o=document.createElement("th");o.scope="col",o.innerHTML="Time",e.appendChild(o);for(let r=0;r<7;r++)o=document.createElement("th"),o.innerHTML=`Day ${r+1}`,o.scope="col",e.appendChild(o);a.appendChild(e);let t=document.getElementById("weather_table_body");t.innerHTML="";const n=["Today","Tonight"];for(let r=0;r<2;r++){e=document.createElement("tr");let l=document.createElement("th");l.innerHTML=n[r],l.scope="row",e.appendChild(l);for(let c=0;c<7;c++){let _=2*c+r,s=i.properties.periods[_],p=document.createElement("td");p.classList.add("day_info"),p.innerHTML=`${s.temperature}${s.temperatureUnit}<br>${s.shortForecast}`,e.appendChild(p)}t.appendChild(e)}}function H(i){let a=document.getElementById("weather_today_table_head"),e=document.getElementById("weather_today_table_body"),o=document.createElement("tr"),t=document.createElement("th");t.innerHTML="Today",o.appendChild(t),t=document.createElement("th"),t.innerHTML="Tonight",o.appendChild(t),a.appendChild(o),o=document.createElement("tr");for(let n=0;n<2;n++){let r=document.createElement("td"),l=i.properties.periods[n];r.classList.add("day_info"),r.innerHTML=`${l.temperature}${l.temperatureUnit}<br>${l.shortForecast}`,o.appendChild(r)}e.appendChild(o)}function M(i){const a={timeZone:"America/New_York",hour:"numeric",minute:"numeric",hour12:!0};let e=Number.MAX_SAFE_INTEGER,o="TESTING",t=Number.MIN_SAFE_INTEGER,n="TESTING";for(let r of i.liveData)if(r.entityType=="ATTRACTION"){const l=r.operatingHours;if(!l||l.length==0)continue;const c=new Date(l[l.length-1].startTime),_=c.toLocaleString("en-US",a);c.getSeconds()<e&&(e=c.getSeconds(),o=_);const s=new Date(l[l.length-1].endTime),p=s.toLocaleString("en-US",a);s.getSeconds()>t&&(t=s.getSeconds(),n=p)}return[o,n]}function I(i,a){let e=document.getElementById("park_hours_today");e.innerHTML="";let o=M(i);console.log(o),console.log(o);let t=document.createElement("h2");t.innerHTML=`${w[a]} Hours`,e.appendChild(t);const n=o[0],r=o[1];let l=document.createElement("h2");l.innerHTML=n+" - "+r,e.appendChild(l)}function S(i,a){let e=document.getElementById("park_nighttime_today");e.innerHTML="";let o=document.createElement("h2");o.innerHTML=`${w[a]} Nighttime Shows`,e.appendChild(o);const t={timeZone:"America/New_York",hour:"numeric",minute:"numeric",hour12:!0};for(let n of i.liveData)if(n.entityType=="SHOW"&&!n.name.includes("Meet")&&n.showtimes&&n.showtimes.length>0&&n.showtimes.length<=3){const l=new Date(n.showtimes[0].startTime).toLocaleTimeString("en",{timeZone:"America/New_York",hour:"numeric",hour12:!1});if(console.log(l),parseInt(l)<19)continue;let c=document.createElement("h3");c.innerHTML=n.name,e.appendChild(c);let _=document.createElement("ul");e.appendChild(_);for(let s=0;s<n.showtimes.length;s++){const T=new Date(n.showtimes[s].startTime).toLocaleString("en",t),E=new Date(n.showtimes[s].endTime).toLocaleString("en",t);let g=document.createElement("li");g.innerHTML=`${T} - ${E}`,_.appendChild(g)}}}function f(){h=!h;let i=document.getElementById("current_info");if(h){i.classList.remove("animation_off"),i.classList.remove("animation"),i.offsetWidth,i.classList.add("animation_off");const a=y[m];d.style.backgroundImage=`url('${a}')`,d.classList.remove("animation_off"),d.classList.remove("animation"),d.offsetWidth,d.classList.add("animation_off")}else{m=(m+1)%4,i.classList.remove("animation"),i.classList.remove("animation_off"),i.offsetWidth,i.classList.add("animation");const a=y[m];d.style.backgroundImage=`url('${a}')`,d.classList.remove("animation"),d.classList.remove("animation_off"),d.offsetWidth,d.classList.add("animation"),I(u[m],m),S(u[m],m);const e=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight);console.log(e)}}async function C(){{let e=document.createElement("h1");e.innerHTML="NOT FETCHING DATA. USING SAMPLE DATA",document.getElementById("welcome_div")?.appendChild(e)}let i=await L();console.log(i),k(i),H(i);for(let e=0;e<4;e++){let o=await b(v[e],e);u.push(o)}console.log(u[0]);let a=document.getElementById("welcome_heading");a.innerHTML=`Welcome ${j} Family`,setInterval(f,5e3),f()}let d=document.getElementById("background_img");const w=["Magic Kingdom","Epcot","Disney Hollywood Studios","Animal Kingdom"],v=["75ea578a-adc8-4116-a54d-dccb60765ef9","47f90d2c-e191-4239-a466-5892ef59a88b","288747d1-8b4f-4a64-867e-ea7c9b27bad8","1c84a229-8862-4648-9c71-378ddd2c7693"],N=["magic_kingdom_sample.json","epcot_sample.json","hollywood_studios_sample.json","animal_kingdom_sample.json"],y=["central-plaza-partners-cinderella-castle-zoom-background.jpg","epcot-spaceship-earth-zoom-background.jpg","hollywood-studios-runaway-railway-zoom-background.jpg","tree-life-animal-kingdom-zoom-background.jpg"];let u=[];const j="Disney";let h=!0,m=3;C();
