(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(e){if(e.ep)return;e.ep=!0;const t=n(e);fetch(e.href,t)}})();async function E(){return await(await fetch("sample_weather.json")).json()}async function b(i,a=0){return await(await fetch(N[a])).json()}function k(i){let a=document.getElementById("weather_table_head");a.innerHTML="";let n=document.createElement("tr"),o=document.createElement("th");o.scope="col",o.innerHTML="Time",n.appendChild(o);for(let r=0;r<7;r++)o=document.createElement("th"),o.innerHTML=`Day ${r+1}`,o.scope="col",n.appendChild(o);a.appendChild(n);let e=document.getElementById("weather_table_body");e.innerHTML="";const t=["Today","Tonight"];for(let r=0;r<2;r++){n=document.createElement("tr");let s=document.createElement("th");s.innerHTML=t[r],s.scope="row",n.appendChild(s);for(let d=0;d<7;d++){let _=2*d+r,l=i.properties.periods[_],p=document.createElement("td");p.classList.add("day_info"),p.innerHTML=`${l.temperature}${l.temperatureUnit}<br>${l.shortForecast}`,n.appendChild(p)}e.appendChild(n)}}function M(i){let a=document.getElementById("weather_today_table_head"),n=document.getElementById("weather_today_table_body"),o=document.createElement("tr"),e=document.createElement("th");e.innerHTML="Today",o.appendChild(e),e=document.createElement("th"),e.innerHTML="Tonight",o.appendChild(e),a.appendChild(o),o=document.createElement("tr");for(let t=0;t<2;t++){let r=document.createElement("td"),s=i.properties.periods[t];r.classList.add("day_info"),r.innerHTML=`${s.temperature}${s.temperatureUnit}<br>${s.shortForecast}`,o.appendChild(r)}n.appendChild(o)}function H(i){const a={timeZone:"America/New_York",hour:"numeric",minute:"numeric",hour12:!0};let n=Number.MAX_SAFE_INTEGER,o="TESTING",e=Number.MIN_SAFE_INTEGER,t="TESTING";for(let r of i.liveData)if(r.entityType=="ATTRACTION"){const s=r.operatingHours;if(!s||s.length==0)continue;const d=new Date(s[s.length-1].startTime),_=d.toLocaleString("en-US",a);d.getSeconds()<n&&(n=d.getSeconds(),o=_);const l=new Date(s[s.length-1].endTime),p=l.toLocaleString("en-US",a);l.getSeconds()>e&&(e=l.getSeconds(),t=p)}return[o,t]}function I(i,a){let n=document.getElementById("park_hours_today");n.innerHTML="";let o=H(i);console.log(o),console.log(o);let e=document.createElement("h2");e.innerHTML=`${w[a]} Hours`,n.appendChild(e);const t=o[0],r=o[1];let s=document.createElement("h2");s.innerHTML=t+" - "+r,n.appendChild(s)}function S(i,a){let n=document.getElementById("park_nighttime_today");n.innerHTML="";let o=document.createElement("h2");o.innerHTML=`${w[a]} Nighttime Shows`,n.appendChild(o);const e={timeZone:"America/New_York",hour:"numeric",minute:"numeric",hour12:!0};for(let t of i.liveData)if(t.entityType=="SHOW"&&!t.name.includes("Meet")&&t.showtimes&&t.showtimes.length>0&&t.showtimes.length<=3){const s=new Date(t.showtimes[0].startTime).toLocaleTimeString("en",{timeZone:"America/New_York",hour:"numeric",hour12:!1});if(console.log(s),parseInt(s)<18)continue;let d=document.createElement("h3");d.innerHTML=t.name,n.appendChild(d);let _=document.createElement("ul");n.appendChild(_);for(let l=0;l<t.showtimes.length;l++){const T=new Date(t.showtimes[l].startTime).toLocaleString("en",e),L=new Date(t.showtimes[l].endTime).toLocaleString("en",e);let g=document.createElement("li");g.innerHTML=`${T} - ${L}`,_.appendChild(g)}}}function f(){u=!u;let i=document.getElementById("current_info");if(u){i.classList.remove("animation_off"),i.classList.remove("animation"),i.offsetWidth,i.classList.add("animation_off");const a=y[m];c.style.backgroundImage=`url('${a}')`,c.classList.remove("animation_off"),c.classList.remove("animation"),c.offsetWidth,c.classList.add("animation_off")}else{m=(m+1)%4,i.classList.remove("animation"),i.classList.remove("animation_off"),i.offsetWidth,i.classList.add("animation");const a=y[m];c.style.backgroundImage=`url('${a}')`,c.classList.remove("animation"),c.classList.remove("animation_off"),c.offsetWidth,c.classList.add("animation"),I(h[m],m),S(h[m],m)}}async function C(){{let n=document.createElement("h1");n.innerHTML="NOT FETCHING DATA. USING SAMPLE DATA",document.getElementById("welcome_div")?.appendChild(n)}let i=await E();console.log(i),k(i),M(i);for(let n=0;n<4;n++){let o=await b(v[n],n);h.push(o)}let a=document.getElementById("welcome_heading");a.innerHTML=`Welcome ${j} Family`,setInterval(f,5e3),f()}let c=document.getElementById("background_img");const w=["Magic Kingdom","Epcot","Disney Hollywood Studios","Animal Kingdom"],v=["75ea578a-adc8-4116-a54d-dccb60765ef9","47f90d2c-e191-4239-a466-5892ef59a88b","288747d1-8b4f-4a64-867e-ea7c9b27bad8","1c84a229-8862-4648-9c71-378ddd2c7693"],N=["magic_kingdom_sample.json","epcot_sample.json","hollywood_studios_sample.json","animal_kingdom_sample.json"],y=["central-plaza-partners-cinderella-castle-zoom-background.jpg","epcot-spaceship-earth-zoom-background.jpg","hollywood-studios-runaway-railway-zoom-background.jpg","tree-life-animal-kingdom-zoom-background.jpg"];let h=[];const j="Disney";let u=!0,m=3;C();
